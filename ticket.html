<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Toegangstickets Rijksmuseum Gorilla</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <style>

        body {
            background-color: #FBE8A6;
        }
        
        .mainContainer{
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(10, 3em);
            grid-gap: 1em 1em;
        }

        /* Age */
        .item1 {
            grid-column: 1 / 2;
            grid-row: 1 / 3;
        }

        .item2 {
            grid-column: 1 / 2;
            grid-row: 3 / 6;
        }

        .item3 {
            grid-column: 1 / 2;
            grid-row: 6 / 9;
        }

        .item4 {
            grid-column: 1 / 2;
            grid-row: 9 / 11;
        }

        /* price + poss. discount */
        .item5 {
            grid-column: 2 / 3;
            grid-row: 1 / 3;
        }

        .item6 {
            grid-column: 2 / 3;
            grid-row: 3 / 4;
        }

        .item7 {
            grid-column: 2 / 3;
            grid-row: 4 / 5;
        }

        .item8 {
            grid-column: 2 / 3;
            grid-row: 5 / 6;
        }

        .item9 {
            grid-column: 2 / 3;
            grid-row: 6 / 7;
        }

        .item10 {
            grid-column: 2 / 3;
            grid-row: 7 / 8;
        }

        .item11 {
            grid-column: 2 / 3;
            grid-row: 8 / 9;
        }

        .item12 {
            grid-column: 2 / 3;
            grid-row: 9 / 10;
        }

        .item13 {
            grid-column: 2 / 3;
            grid-row: 10 / 11;
        }

        /* Number of tickets */
        .item14 {
            grid-column: 3 / 4;
            grid-row: 1 / 3;
        }

        .item15 {
            grid-column: 3 / 4;
            grid-row: 3 / 5;
        }

        .item16 {
            grid-column: 3 / 4;
            grid-row: 5 / 7;
        }

        .item17 {
            grid-column: 3 / 4;
            grid-row: 7 / 9;
        }

        .item18 {
            grid-column: 3 / 4;
            grid-row: 9 / 11;
        }

        /* Total sum / add to basket / checkout */
        .item19 {
            grid-column: 4 / 5;
            grid-row: 5 / 7;
        }

        .item20 {
            grid-column: 4 / 5;
            grid-row: 1 / 4;
        }

    </style>

<script>
    $(document).ready(function(){

        // define button array to hold state for 20 buttons
        var button = new Array(20);

        // define colors for each button state
        var kleurKlikbaar = "#98f442";
        var kleurInactief = "#D2FDFF";
        var kleurActief = "#F4976C";

        // define variable for base price, chosen ticket price & total amount
        var basisPrijs = 20;
        var ticketPrijs = 0;
        var totaalBedrag = 0;

        setOriginalState();
        

        // functionality for each button - 4 age buttons
        $(".item1").click(function(){
            if (button[0] == 1) return;
            if (button[0] == 2) {
                setOriginalState();
                return;
            }
            button[0] = 2;
            button.fill(1,1,4);

            button[4] = 2;
            button.fill(0,13,18);
            rebuildPage();
             
        });

        $(".item2").click(function(){
            if (button[1] == 1) return;
            if (button[1] == 2) {
                setOriginalState();
                return;
            }
            button.fill(0,5,8);
            button.fill(1,0,4);
            button[1] = 2;
            rebuildPage();
        });

        $(".item3").click(function(){
            if (button[2] == 1) return;
            if (button[2] == 2) {
                setOriginalState();
                return;
            }
            button[2] = 2;
            button.fill(0,8,11);
            button.fill(1,0,4);
            button[2] = 2;
            rebuildPage();
        });

        $(".item4").click(function(){
            if (button[3] == 1) return;
            if (button[3] == 2) {
                setOriginalState();
                return;
            }
            button[11] = 0;
            button[12] = 0;
            button.fill(1,0,4);
            button[3] = 2;
            rebuildPage();
        });

        // functionality for each button - 9 price buttons  

        $(".item5").click(function(){
            if (button[4] != 2) return;
            ticketPrijs = 0;               // children free admission
            setOriginalState();
        });


        $(".item6").click(function(){
            if (button[5] == 1) return;
            if (button[5] == 2) {
                setOriginalState();
                return;
            }
            button[5] = 2;
            button[6] = 1;
            button[7] = 1 ;
            button.fill(0,13,18);
            ticketPrijs = basisPrijs * 0.7;   // 30% discount teenager
            rebuildPage();
        });

        $(".item7").click(function(){
            if (button[6] == 1) return;
            if (button[6] == 2) {
                setOriginalState();
                return;
            }
            button[6] = 2;
            button[5] = 1;
            button[7] = 1 ;
            button.fill(0,13,18);
            ticketPrijs = basisPrijs * 0.6;     // 40% discount CJP
            rebuildPage();
        });

        $(".item8").click(function(){
            if (button[7] == 1) return;
            if (button[7] == 2) {
                setOriginalState();
                return;
            }
            button[7] = 2;
            button[5] = 1;
            button[6] = 1 ;
            button.fill(0,13,18);
            ticketPrijs = basisPrijs * 0.5;      // 50% discount student
            rebuildPage();
        });

        $(".item9").click(function(){
            if (button[8] == 1) return;
            if (button[8] == 2) {
                setOriginalState();
                return;
            }
            button[8] = 2;
            button[9] = 1;
            button[10] = 1 ;
            button.fill(0,13,18);
            ticketPrijs = basisPrijs;            // no discount
            rebuildPage();
        });

        $(".item10").click(function(){
            if (button[9] == 1) return;
            if (button[9] == 2) {
                setOriginalState();
                return;
            }
            button[9] = 2;
            button[8] = 1;
            button[10] = 1 ;
            button.fill(0,13,18);
            ticketPrijs = 0;                     // free admission Museumkaart
            rebuildPage();
        });

        $(".item11").click(function(){
            if (button[10] == 1) return;
            if (button[10] == 2) {
                setOriginalState();
                return;
            }
            button[10] = 2;
            button[8] = 1;
            button[9] = 1 ;
            button.fill(0,13,18);
            ticketPrijs = basisPrijs * 0.5;      // 50% discount student
            rebuildPage();
        });

        $(".item12").click(function(){
            if (button[11] == 1) return;
            if (button[11] == 2) {
                setOriginalState();
                return;
            }
            button[11] = 2;
            button[12] = 1;
            button.fill(0,13,18);
            ticketPrijs = basisPrijs * 0.7;      // 30% discount 65+
            rebuildPage();
        });

        $(".item13").click(function(){
            if (button[12] == 1) return;
            if (button[12] == 2) {
                setOriginalState();
                return;
            }
            button[12] = 2;
            button[11] = 1;
            button.fill(0,13,18);
            ticketPrijs = 0;                      // free admission Museumkaart
            rebuildPage();
        });

        // functionality for each button - 5 quantity buttons
        $(".item14").click(function(){
            toggleQuantityButtons(13);
        });

        $(".item15").click(function(){
            toggleQuantityButtons(14);
        });

        $(".item16").click(function(){
            toggleQuantityButtons(15);
        });

        $(".item17").click(function(){
            toggleQuantityButtons(16);
        });

        $(".item18").click(function(){
            toggleQuantityButtons(17);
        });

        // Build the page with new button values
        function rebuildPage() {
            for (var i=0; i<20; i++) {
                if (button[i] == 0) $(".item" + (i+1) ).css("background-color", kleurKlikbaar);
                if (button[i] == 1) $(".item" + (i+1) ).css("background-color", kleurInactief);
                if (button[i] == 2) $(".item" + (i+1) ).css("background-color", kleurActief);
            }

            $(".item20").html("Ticketprijs: " + ticketPrijs +"<br><br>Totaal bedrag: <br> EURO: " +  totaalBedrag );

        }

        // Reset all buttons
        function setOriginalState() {

        // There are 20 buttons which can have 1 of 3 values:
        // 0 - clickable
        // 1 - inactive
        // 2 - active
        // initially only button 0-3 are clickable, rest is inactive
        
        button.fill(0, 0, 4);
        button.fill(1, 4, 20);

        ticketPrijs = 0;

        rebuildPage();
        }

        function toggleQuantityButtons(choice) {
            if (button[choice] == 1) return;
            if (button[choice] == 2) {
                button.fill(0,13,18);
                button[18] = 1;
                totaalBedrag = 0;
                rebuildPage();
                return;
            }
            button.fill(1,13,18);
            button[choice] = 2;
            button[18] = 0;
            totaalBedrag = ticketPrijs * (choice - 12);
            rebuildPage();
        }

    });
    </script>

</head>
<body>

    <header>RIJKSMUSEUM GORILLA - tickets</header>


    <div class="mainContainer">
    
        <!-- age classes -->
        <div class="age item1">Kind (0-12)</div>
        <div class="age item2">Tiener (13-18)</div>
        <div class="age item3">Volwassene</div>
        <div class="age item4">65+ </div>

        <!-- prices & discounts -->
        <div class="price item5">gratis</div>
        <div class="price item6">basisprijs <i>-30%</i></div>
        <div class="price item7">CJP kaart <i>-40%</i></div>
        <div class="price item8">Student <i>-50%</i></div>
        <div class="price item9">basisprijs</div>
        <div class="price item10">Museumkaart <i>gratis</i></div>
        <div class="price item11">Student <i>-50%</i></div>
        <div class="price item12">basisprijs <i>-30%</i></div>
        <div class="price item13">museumkaart <i>gratis</i></div>

        <!-- number of tickets -->
        <div class="numberOfTickets item14">1</div>
        <div class="numberOfTickets item15">2</div>
        <div class="numberOfTickets item16">3</div>
        <div class="numberOfTickets item17">4</div>
        <div class="numberOfTickets item18">5</div>

        <!-- Total sum / checkout -->
        <div class="checkout item19">Betalen</div>
        <div class="checkout item20">Totaal bedrag</div>

    </div>
    <!-- end div mainContainer -->

</body>
</html>